@using Webdiyer.WebControls.Mvc;
@model PagedList<MZXYOnlineJudge.Models.Solution>
@{
    ViewBag.Title = "UserInfo";
}
<script type="text/javascript" src="~/Scripts/jquery-3.3.1.js"></script>
<script type="text/javascript" src="~/Scripts/echarts.min.js"></script>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->

<div class="span8">

    <table class="table table-hover">
        <tr>
            <th>
                记录编号
            </th>
            <th>
                题目编号
            </th>
            <th>
                计算结果
            </th>
            <th>
                提交状态
            </th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.solution_id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.problem_id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.result)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.status)
                </td>
            </tr>
        }
    </table>

</div>
<br />
<div class="span4">
    <div id="myChartArea2" style="width: 600px; height:400px;"></div>
</div>


<!-- 注意:操作echarts的js引用,必须放在div之后 -->
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<!-- 注意:操作echarts的js引用,必须放在div之后 -->

<script type="text/javascript">

    $(function () {

        var myChart = echarts.init($("#myChartArea2")[0]);



        var option = {

            title: {

                text: '提交记录',

                subtext: '',

                x: 'center'

            },

            tooltip: {

                trigger: 'item',

                formatter: "{a} <br/>{b} : {c} ({d}%)"

            },

            legend: {

                orient: 'vertical',

                left: 'left',

                data: ['提交成功', '编译失败', '提交失败']

            },

            series: [

                {

                    name: '访问来源',

                    type: 'pie',

                    radius: '55%',

                    center: ['50%', '60%'],

                    data: [

                        { value: @ViewBag.success, name: '提交成功' },

                        { value: @ViewBag.error, name: '编译失败' },

                        { value: @ViewBag.warning, name: '提交失败' }

                    ],

                    itemStyle: {

                        emphasis: {

                            shadowBlur: 10,

                            shadowOffsetX: 0,

                            shadowColor: 'rgba(0, 0, 0, 0.5)'

                        }

                    }

                }

            ]

        };

        // 为echarts对象加载数据

        myChart.setOption(option);

    });

</script>